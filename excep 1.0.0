#include <Wire.h>
#include <AM2320.h>
#include <EEPROM.h>

AM2320 sensor;
int address = 1;

void setup() {
  Serial.begin(9600);
  Wire.begin();
}

void loop() {
  float temperature, humidity;

  if(sensor.readTemperatureAndHumidity(temperature, humidity) == true) {
    past = EEprom(temperature, 5, address);
    if (past) {
      Serial.print(temperature)
      Serial.println("°C.")
    }
  } else {
    Serial.println("Nepodařilo se přečíst data z čidla AM2320");
  }

  delay(2000); // Přečtení dat každých 2 sekundy
}
void EEprom(y, z, address) {
x = EEPROM.read(address);
EEPROM.update(address, y);
if (max(x, y) - min(x, y) < z) {
return False;
} else {
return True;
}}
